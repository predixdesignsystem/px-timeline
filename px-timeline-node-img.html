<!-- import polymer library -->
<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="px-timeline-node-comment-svg.html">
<link rel="import" href="css/px-timeline-styles.html">

<!-- declare DOM module -->
<dom-module id="px-timeline-node-img">
  <template>
    <style include="px-timeline-styles"></style>
    <div class="node__body__content__media__text__box flex">
      <template is="dom-if" if="{{comment}}">
        <px-timeline-node-comment-svg> </px-timeline-node-comment-svg>
        <div class="node__body__content__media__text--spacer flex">
        </div>
      </template>
      <div class="node__body__content__media__text">
        <span>[[contentBodyImg.text]]</span>
      </div>
    </div>
    <template is="dom-if" if="{{hasImage}}>">
      <div class="node__body__content__media__img flex flex--start">
        <img srcset="[[contentBodyImg.img]], https://www.predix.com/sites/all/themes/ge_progressive/predix/images/why-predix/ge-predix-network.jpg" class="node__body__content__media__img__img" alt="there was a problem loading the image">
      </div>
    </template>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'px-timeline-node-img',
    properties: {
      hasImage: {
        type: Boolean,
        value: false
      }
    },
    ready: function() {
      if (this.contentBodyImg.isComment) {
        this.comment = true;
      }
      if (this.contentBodyImg.img) {
        this.hasImage = true;
      }
    }
  });
</script>
